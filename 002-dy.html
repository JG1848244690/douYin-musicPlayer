<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./css/dy.css">
  <link rel="stylesheet" href="./base.css">
</head>
<body>
  <div class="wrapper">
    <div><button><p>《周杰伦》</p></button></div>
    <div><button><p>2</p></button></div>
    <div><button><p>3</p></button></div>
    <div><button><p>4</p></button></div>
    <div><button><p>5</p></button></div>
    <div><button><p>6</p></button></div>
    <div><button><p>7</p></button></div>
    <div><button><p>8</p></button></div>
    <div><button><p>9</p></button></div>
  </div>
<div class="audio">
  <audio  class="player" controls="true" loop="true"  >
    <source src="./music/搁浅_21-24-38.mp3" type="audio/mpeg">
  </audio>
  <button class="listPlay">列表播放</button>
</div>
<script>
  //创建一个对象数组，包含歌曲的src和图片的src和歌名  
  const music =  [
      {
        url:"./music/暗号_09-26-09.mp3",
        name:"暗号",
        url1:"url('../images/1323172174.jpeg')"
      },
      {
        url:"./music/半岛铁盒_09-25-11.mp3",
        name:"半岛铁盒",
        url1:"url('../images/1697080925115.jpeg')"
      },
      {
        url:"./music/反方向的钟_21-30-29.mp3",
        name:"反方向的钟",
        url1:"url('../images/1697080925125.jpg')"
      },
      {
        url:"./music/枫_16-57-38.mp3",
        name:"枫",
        url1:"url('../images/1697080925135.jpg')"
      },
      {
        url:"./music/搁浅_21-24-38.mp3",
        name:"搁浅",
        url1:"url('../images/1697080925190.jpg')"
      },
      {
        url:"./music/兰亭序_09-20-45.mp3",
        name:"兰亭序",
        url1:"url('../images/1697080925157.jpg')"
      },
      {
        url:"./music/明明就_09-23-01.mp3",
        name:"明明就",
        url1:"url('../images/1697080925168.jpg')"
      },
      {
        url:"./music/晴天_09-28-03.mp3",
        name:"晴天",
        url1:"url('../images/1697080925180.jpg')"
      },
      {
        url:"./music/晴天_09-28-03.mp3",
        name:"晴天",
        url1:"url('../images/63831619612424.png')"
      }
    ]


  // 创建一个 audio 元素
  let audio = document.querySelector("audio")
    
  // 给每个按钮添加点击事件监听器
  let button =document.querySelectorAll(".wrapper button")
  for(let i = 0;i < 9;i++){
    //获取对象
    let p = button[i].querySelector("p")
    p.innerText = music[i].name
    button[i].style.backgroundImage = music[i].url1
    
    //
    button[i].addEventListener("click", function() {
    // 设置 audio 的 src 属性为相应歌曲的 url
    audio.src = music[i].url;
    
    // 播放音乐
    audio.play();
  
  })
  }
  
</script>
</body>
</html>